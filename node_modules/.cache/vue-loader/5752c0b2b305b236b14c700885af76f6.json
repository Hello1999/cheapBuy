{"remainingRequest":"C:\\F\\vueProject\\learnvue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\F\\vueProject\\learnvue\\src\\components\\Cheap.vue?vue&type=style&index=0&id=0364d14f&lang=css","dependencies":[{"path":"C:\\F\\vueProject\\learnvue\\src\\components\\Cheap.vue","mtime":1637484748824},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1637373671000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1637373677000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\postcss-loader\\src\\index.js","mtime":1637373672000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637373665000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1637373672000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5pbWdCb3ggewogIG1hcmdpbjogMTBweDsKfQo="},{"version":3,"sources":["C:\\F\\vueProject\\learnvue\\src\\components\\Cheap.vue"],"names":[],"mappings":";AA4FA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd","file":"C:/F/vueProject/learnvue/src/components/Cheap.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"weui-panel weui-panel_access\">\n      <div v-for=\"(item, index) in data\" :key=\"index\" class=\"weui-panel__bd\">\n        <a\n          @click=\"getTkl(item.itemid)\"\n          class=\"weui-media-box weui-media-box_appmsg\"\n          target=\"_blank\"\n        >\n          <div class=\"weui-media-box__hd\">\n            <img\n              class=\"weui-media-box__thumb\"\n              :src=\"item.itempic + '_100x100.jpg'\"\n            />\n          </div>\n          <div class=\"weui-media-box__bd\">\n            <h4 class=\"weui-media-box__title\" v-text=\"item.itemtitle\"></h4>\n            <h4 class=\"weui-media-box__title\">\n              券后包邮仅需: {{ item.itemendprice }} || 机器人再返:\n              {{ (item.tkmoney * 0.6).toFixed(2) }}\n            </h4>\n            <p class=\"weui-media-box__desc\" v-text=\"item.itemdesc\"></p>\n          </div>\n        </a>\n      </div>\n      <div @click=\"loadHot\" class=\"weui-panel__ft\">\n        <a\n          href=\"javascript:void(0);\"\n          class=\"weui-cell weui-cell_access weui-cell_link\"\n        >\n          <div class=\"weui-cell__bd\">查看更多</div>\n          <span class=\"weui-cell__ft\"></span>\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { onMounted, reactive, ref, toRef, toRefs } from \"@vue/runtime-core\";\n\nexport default {\n  setup() {\n    //获取优惠信息\n    let data = reactive([]);\n    let page = 1;\n\n    let loadHot = async () => {\n      let getData = await axios.post(\"api/spk/jiukuaijiu\", {\n        apikey: \"ycq9hxGGYdUG7GTdkHBhQQ77UsiZFW2h\",\n        nav: 1,\n        page_size: 20,\n        min_id: page,\n        sort: 0,\n      });\n\n      //每次点击重新加载 就添加页数\n      page++;\n      //添加从淘宝联盟获取的商品数据\n      data.push(...getData.data.data.data);\n      console.log(data);\n    };\n\n    //点击商品信息的时候 获取淘口令\n    let getTkl = async (itemid) => {\n      let tklData = await axios.post(\"api/tbk/id_privilege\", {\n        apikey: \"ycq9hxGGYdUG7GTdkHBhQQ77UsiZFW2h\",\n        id: itemid,\n        tpwd: true,\n      });\n      \n      //淘口令\n      tkl = tklData.data.data.long_coupon_tpwd\n\n      console.log(tkl);\n    };\n\n    onMounted(() => {\n      loadHot();\n    });\n\n    return {\n      loadHot,\n      getTkl,\n      data,\n    };\n  },\n};\n</script>\n\n<style>\n.imgBox {\n  margin: 10px;\n}\n</style>"]}]}