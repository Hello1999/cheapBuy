{"remainingRequest":"C:\\F\\vueProject\\learnvue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\F\\vueProject\\learnvue\\node_modules\\babel-loader\\lib\\index.js!C:\\F\\vueProject\\learnvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\F\\vueProject\\learnvue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\F\\vueProject\\learnvue\\src\\components\\SearchCommission.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\F\\vueProject\\learnvue\\src\\components\\SearchCommission.vue","mtime":1637584666206},{"path":"C:\\F\\vueProject\\learnvue\\babel.config.js","mtime":1637408306000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637373665000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1637373665000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1637373673000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637373665000},{"path":"C:\\F\\vueProject\\learnvue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1637373672000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXEZcXHZ1ZVByb2plY3RcXGxlYXJudnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxGXFx2dWVQcm9qZWN0XFxsZWFybnZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgU2VhcmNoQmFyIGZyb20gIkAvY29tcG9uZW50cy9TZWFyY2hCYXIiOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmIH0gZnJvbSAiQHZ1ZS9yZWFjdGl2aXR5IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHVzZUNsaXBib2FyZCBmcm9tICJ2dWUtY2xpcGJvYXJkMyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hCYXI6IFNlYXJjaEJhcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGNvbW1vZGl0eUluZm8gPSByZWFjdGl2ZSh7fSk7CiAgICB2YXIgZGF0YUNvZGUgPSByZWYoIiIpOwogICAgdmFyIGRpYWxvZ1ZpZXcgPSByZWYoZmFsc2UpOyAvL+S4h+iDvei9rOmrmOS9o0FQSSDojrflj5bllYblk4Hkv6Hmga8KCiAgICB2YXIgZ2V0Q29tbWlzaW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY29udGVudCkgewogICAgICAgIHZhciBnZXREYXRhLCBfdXNlQ2xpcGJvYXJkLCB0b0NsaXBib2FyZDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiYXBpL3Riay93bl9jb252ZXJ0IiwgewogICAgICAgICAgICAgICAgICBhcGlrZXk6ICJ5Y3E5aHhHR1lkVUc3R1Rka0hCaFFRNzdVc2laRlcyaCIsCiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIGxvZ286IHRydWUsCiAgICAgICAgICAgICAgICAgIGl0ZW1JbmZvOiB0cnVlLAogICAgICAgICAgICAgICAgICB0cHdkOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZ2V0RGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvL+iOt+WPlkFQSei/lOWbnueahOS/oeaBrwogICAgICAgICAgICAgICAgZGF0YUNvZGUudmFsdWUgPSBnZXREYXRhLmRhdGEuY29kZTsKCiAgICAgICAgICAgICAgICBpZiAoIShkYXRhQ29kZS52YWx1ZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbW1vZGl0eUluZm8udmFsdWVzID0gX29iamVjdFNwcmVhZCh7fSwgZ2V0RGF0YS5kYXRhLmRhdGEpOyAvL+WkjeWItua3mOWPo+S7pOWIsOeymOi0tOadvwoKICAgICAgICAgICAgICAgIF91c2VDbGlwYm9hcmQgPSB1c2VDbGlwYm9hcmQoKSwgdG9DbGlwYm9hcmQgPSBfdXNlQ2xpcGJvYXJkLnRvQ2xpcGJvYXJkOwogICAgICAgICAgICAgICAgdG9DbGlwYm9hcmQoY29tbW9kaXR5SW5mby52YWx1ZXMubG9uZ19jb3Vwb25fdHB3ZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgLy/mkJzntKLkuYvlkI4g5pi+56S6ZGlhbG9nCiAgICAgICAgICAgICAgICBkaWFsb2dWaWV3LnZhbHVlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Q29tbWlzaW9uKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICBnZXRDb21taXNpb246IGdldENvbW1pc2lvbiwKICAgICAgY29tbW9kaXR5SW5mbzogY29tbW9kaXR5SW5mbywKICAgICAgZGlhbG9nVmlldzogZGlhbG9nVmlldywKICAgICAgZGF0YUNvZGU6IGRhdGFDb2RlCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\F\\vueProject\\learnvue\\src\\components\\SearchCommission.vue"],"names":[],"mappings":";;;;;AAgEA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAS,QAAT,EAAmB,GAAnB,QAA8B,iBAA9B;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP,MAAyB,gBAAzB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT;AADU,GADC;AAKb,EAAA,KALa,mBAKL;AACN,QAAI,aAAY,GAAI,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAI,QAAO,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,QAAI,UAAS,GAAI,GAAG,CAAC,KAAD,CAApB,CAHM,CAKN;;AACA,QAAI,YAAW;AAAA,yEAAI,iBAAO,OAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACG,KAAK,CAAC,IAAN,CAAW,oBAAX,EAAiC;AACnD,kBAAA,MAAM,EAAE,kCAD2C;AAEnD,kBAAA,OAAO,EAAE,OAF0C;AAGnD,kBAAA,IAAI,EAAE,IAH6C;AAInD,kBAAA,QAAQ,EAAE,IAJyC;AAKnD,kBAAA,IAAI,EAAE;AAL6C,iBAAjC,CADH;;AAAA;AACb,gBAAA,OADa;AAQjB;AACA,gBAAA,QAAQ,CAAC,KAAT,GAAiB,OAAO,CAAC,IAAR,CAAa,IAA9B;;AATiB,sBAWb,QAAQ,CAAC,KAAT,KAAmB,GAXN;AAAA;AAAA;AAAA;;AAYf,gBAAA,aAAa,CAAC,MAAd,qBAA4B,OAAO,CAAC,IAAR,CAAa,IAAzC,EAZe,CAcf;;AAde,gCAeS,YAAY,EAfrB,EAeP,WAfO,iBAeP,WAfO;AAgBf,gBAAA,WAAW,CAAC,aAAa,CAAC,MAAd,CAAqB,gBAAtB,CAAX;AAhBe;AAAA;;AAAA;AAAA;;AAAA;AAqBjB;AACA,gBAAA,UAAU,CAAC,KAAX,GAAmB,IAAnB;;AAtBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAX,YAAW;AAAA;AAAA;AAAA,OAAf;;AAyBA,WAAO;AACL,MAAA,YAAY,EAAZ,YADK;AAEL,MAAA,aAAa,EAAb,aAFK;AAGL,MAAA,UAAU,EAAV,UAHK;AAIL,MAAA,QAAQ,EAAR;AAJK,KAAP;AAMD;AA1CY,CAAf","sourcesContent":["<template>\r\n  <search-bar\r\n    rhd=\"输入商品链接 可以查询隐藏优惠券和返利优惠哦~!\"\r\n    @search=\"getCommision\"\r\n  ></search-bar>\r\n  <div class=\"weui-dialog\" v-if=\"dialogView && dataCode === 200\">\r\n    <div class=\"weui-dialog__hd\">\r\n      <strong class=\"weui-dialog__title\" id=\"js_title1\">返利信息</strong>\r\n    </div>\r\n    <div class=\"weui-dialog__bd\">\r\n      商品: {{ commodityInfo.values.itemInfo.title }}\r\n\r\n      <br />\r\n      店铺:\r\n      {{ commodityInfo.values.itemInfo.nick }}\r\n\r\n      <br />\r\n      原价:\r\n      {{ commodityInfo.values.itemInfo.reserve_price }}\r\n\r\n      <br />\r\n      券后价:\r\n      {{ commodityInfo.values.itemInfo.qh_final_price }}\r\n\r\n      <br />\r\n      机器人再返:\r\n      {{ (commodityInfo.values.itemInfo.qh_final_commission * 0.6).toFixed(2) }}\r\n\r\n      <br />\r\n      已复制淘口令到粘贴板 打开手淘即可购买\r\n      <br />\r\n      如果打开手淘客户端没有显示的话,请手动复制以下淘口令再打开:\r\n      <br />\r\n      {{ commodityInfo.values.long_coupon_tpwd }}\r\n    </div>\r\n\r\n    <div class=\"weui-dialog__ft\">\r\n      <a\r\n        role=\"button\"\r\n        class=\"weui-dialog__btn weui-dialog__btn_primary\"\r\n        @click=\"dialogView = false\"\r\n        >我知道了</a\r\n      >\r\n    </div>\r\n  </div>\r\n  <!-- 没有返利的dialog -->\r\n  <div class=\"weui-dialog\" v-if=\"dataCode === -1\">\r\n    <div class=\"weui-dialog__hd\">\r\n      <strong class=\"weui-dialog__title\" id=\"js_title1\">返利信息</strong>\r\n    </div>\r\n    <div class=\"weui-dialog__bd\">这个商品没有返利或输入有误 重新试试看吧!</div>\r\n\r\n    <div class=\"weui-dialog__ft\">\r\n      <a\r\n        role=\"button\"\r\n        class=\"weui-dialog__btn weui-dialog__btn_primary\"\r\n        @click=\"dataCode = 0\"\r\n        >我知道了</a\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from \"@/components/SearchBar\";\r\nimport { reactive, ref } from \"@vue/reactivity\";\r\nimport axios from \"axios\";\r\nimport useClipboard from \"vue-clipboard3\";\r\n\r\nexport default {\r\n  components: {\r\n    SearchBar,\r\n  },\r\n\r\n  setup() {\r\n    let commodityInfo = reactive({});\r\n    let dataCode = ref(\"\");\r\n    let dialogView = ref(false);\r\n\r\n    //万能转高佣API 获取商品信息\r\n    let getCommision = async (content) => {\r\n      let getData = await axios.post(\"api/tbk/wn_convert\", {\r\n        apikey: \"ycq9hxGGYdUG7GTdkHBhQQ77UsiZFW2h\",\r\n        content: content,\r\n        logo: true,\r\n        itemInfo: true,\r\n        tpwd: true,\r\n      });\r\n      //获取API返回的信息\r\n      dataCode.value = getData.data.code;\r\n\r\n      if (dataCode.value === 200) {\r\n        commodityInfo.values = { ...getData.data.data };\r\n\r\n        //复制淘口令到粘贴板\r\n        const { toClipboard } = useClipboard();\r\n        toClipboard(commodityInfo.values.long_coupon_tpwd);\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      //搜索之后 显示dialog\r\n      dialogView.value = true;\r\n    };\r\n\r\n    return {\r\n      getCommision,\r\n      commodityInfo,\r\n      dialogView,\r\n      dataCode,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""}]}