{"remainingRequest":"/Volumes/系统/F/vueProject/learnvue/node_modules/babel-loader/lib/index.js!/Volumes/系统/F/vueProject/learnvue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Volumes/系统/F/vueProject/learnvue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Volumes/系统/F/vueProject/learnvue/src/components/SearchCommission.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/系统/F/vueProject/learnvue/src/components/SearchCommission.vue","mtime":1637630656000},{"path":"/Volumes/系统/F/vueProject/learnvue/babel.config.js","mtime":1637408306000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/cache-loader/dist/cjs.js","mtime":1637373665000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/babel-loader/lib/index.js","mtime":1637373673000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/cache-loader/dist/cjs.js","mtime":1637373665000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/vue-loader-v16/dist/index.js","mtime":1637373672000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvXHU3Q0ZCXHU3RURGL0YvdnVlUHJvamVjdC9sZWFybnZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVm9sdW1lcy9cdTdDRkJcdTdFREYvRi92dWVQcm9qZWN0L2xlYXJudnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBTZWFyY2hCYXIgZnJvbSAiQC9jb21wb25lbnRzL1NlYXJjaEJhciI7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYgfSBmcm9tICJAdnVlL3JlYWN0aXZpdHkiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgdXNlQ2xpcGJvYXJkIGZyb20gInZ1ZS1jbGlwYm9hcmQzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNlYXJjaEJhcjogU2VhcmNoQmFyCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgY29tbW9kaXR5SW5mbyA9IHJlYWN0aXZlKHt9KTsKICAgIHZhciBkYXRhQ29kZSA9IHJlZigiIik7CiAgICB2YXIgZGlhbG9nVmlldyA9IHJlZihmYWxzZSk7IC8v5LiH6IO96L2s6auY5L2jQVBJIOiOt+WPluWVhuWTgeS/oeaBrwoKICAgIHZhciBnZXRDb21taXNpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShjb250ZW50KSB7CiAgICAgICAgdmFyIGdldERhdGEsIF91c2VDbGlwYm9hcmQsIHRvQ2xpcGJvYXJkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCJhcGkvdGJrL3duX2NvbnZlcnQiLCB7CiAgICAgICAgICAgICAgICAgIGFwaWtleTogInljcTloeEdHWWRVRzdHVGRrSEJoUVE3N1VzaVpGVzJoIiwKICAgICAgICAgICAgICAgICAgY29udGVudDogY29udGVudCwKICAgICAgICAgICAgICAgICAgbG9nbzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgaXRlbUluZm86IHRydWUsCiAgICAgICAgICAgICAgICAgIHRwd2Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBnZXREYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8v6I635Y+WQVBJ6L+U5Zue55qE5L+h5oGvCiAgICAgICAgICAgICAgICBkYXRhQ29kZS52YWx1ZSA9IGdldERhdGEuZGF0YS5jb2RlOwoKICAgICAgICAgICAgICAgIGlmICghKGRhdGFDb2RlLnZhbHVlID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29tbW9kaXR5SW5mby52YWx1ZXMgPSBfb2JqZWN0U3ByZWFkKHt9LCBnZXREYXRhLmRhdGEuZGF0YSk7IC8v5aSN5Yi25reY5Y+j5Luk5Yiw57KY6LS05p2/CgogICAgICAgICAgICAgICAgX3VzZUNsaXBib2FyZCA9IHVzZUNsaXBib2FyZCgpLCB0b0NsaXBib2FyZCA9IF91c2VDbGlwYm9hcmQudG9DbGlwYm9hcmQ7CiAgICAgICAgICAgICAgICB0b0NsaXBib2FyZChjb21tb2RpdHlJbmZvLnZhbHVlcy5sb25nX2NvdXBvbl90cHdkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAvL+aQnOe0ouS5i+WQjiDmmL7npLpkaWFsb2cKICAgICAgICAgICAgICAgIGRpYWxvZ1ZpZXcudmFsdWUgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBnZXRDb21taXNpb24oX3gpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIGdldENvbW1pc2lvbjogZ2V0Q29tbWlzaW9uLAogICAgICBjb21tb2RpdHlJbmZvOiBjb21tb2RpdHlJbmZvLAogICAgICBkaWFsb2dWaWV3OiBkaWFsb2dWaWV3LAogICAgICBkYXRhQ29kZTogZGF0YUNvZGUKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Volumes/系统/F/vueProject/learnvue/src/components/SearchCommission.vue"],"names":[],"mappings":";;;;;AAgEA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAS,QAAT,EAAmB,GAAnB,QAA8B,iBAA9B;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP,MAAyB,gBAAzB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT;AADU,GADC;AAKb,EAAA,KALa,mBAKL;AACN,QAAI,aAAY,GAAI,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAI,QAAO,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,QAAI,UAAS,GAAI,GAAG,CAAC,KAAD,CAApB,CAHM,CAKN;;AACA,QAAI,YAAW;AAAA,yEAAI,iBAAO,OAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACG,KAAK,CAAC,IAAN,CAAW,oBAAX,EAAiC;AACnD,kBAAA,MAAM,EAAE,kCAD2C;AAEnD,kBAAA,OAAO,EAAE,OAF0C;AAGnD,kBAAA,IAAI,EAAE,IAH6C;AAInD,kBAAA,QAAQ,EAAE,IAJyC;AAKnD,kBAAA,IAAI,EAAE;AAL6C,iBAAjC,CADH;;AAAA;AACb,gBAAA,OADa;AAQjB;AACA,gBAAA,QAAQ,CAAC,KAAT,GAAiB,OAAO,CAAC,IAAR,CAAa,IAA9B;;AATiB,sBAWb,QAAQ,CAAC,KAAT,KAAmB,GAXN;AAAA;AAAA;AAAA;;AAYf,gBAAA,aAAa,CAAC,MAAd,qBAA4B,OAAO,CAAC,IAAR,CAAa,IAAzC,EAZe,CAcf;;AAde,gCAeS,YAAY,EAfrB,EAeP,WAfO,iBAeP,WAfO;AAgBf,gBAAA,WAAW,CAAC,aAAa,CAAC,MAAd,CAAqB,gBAAtB,CAAX;AAhBe;AAAA;;AAAA;AAAA;;AAAA;AAqBjB;AACA,gBAAA,UAAU,CAAC,KAAX,GAAmB,IAAnB;;AAtBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAX,YAAW;AAAA;AAAA;AAAA,OAAf;;AAyBA,WAAO;AACL,MAAA,YAAY,EAAZ,YADK;AAEL,MAAA,aAAa,EAAb,aAFK;AAGL,MAAA,UAAU,EAAV,UAHK;AAIL,MAAA,QAAQ,EAAR;AAJK,KAAP;AAMD;AA1CY,CAAf","sourcesContent":["<template>\r\n  <search-bar\r\n    rhd=\"输入商品链接或者淘口令 可以查询隐藏优惠券和返利优惠哦~!\"\r\n    @search=\"getCommision\"\r\n  ></search-bar>\r\n  <div class=\"weui-dialog\" v-if=\"dialogView && dataCode === 200\">\r\n    <div class=\"weui-dialog__hd\">\r\n      <strong class=\"weui-dialog__title\" id=\"js_title1\">返利信息</strong>\r\n    </div>\r\n    <div class=\"weui-dialog__bd\">\r\n      商品: {{ commodityInfo.values.itemInfo.title }}\r\n\r\n      <br />\r\n      店铺:\r\n      {{ commodityInfo.values.itemInfo.nick }}\r\n\r\n      <br />\r\n      原价:\r\n      {{ commodityInfo.values.itemInfo.reserve_price }}\r\n\r\n      <br />\r\n      券后价:\r\n      {{ commodityInfo.values.itemInfo.qh_final_price }}\r\n\r\n      <br />\r\n      机器人再返:\r\n      {{ (commodityInfo.values.itemInfo.qh_final_commission * 0.6).toFixed(2) }}\r\n\r\n      <br />\r\n      已复制淘口令到粘贴板 打开手淘即可购买\r\n      <br />\r\n      如果打开手淘客户端没有显示的话,请手动复制以下淘口令再打开:\r\n      <br />\r\n      {{ commodityInfo.values.long_coupon_tpwd }}\r\n    </div>\r\n\r\n    <div class=\"weui-dialog__ft\">\r\n      <a\r\n        role=\"button\"\r\n        class=\"weui-dialog__btn weui-dialog__btn_primary\"\r\n        @click=\"dialogView = false\"\r\n        >我知道了</a\r\n      >\r\n    </div>\r\n  </div>\r\n  <!-- 没有返利的dialog -->\r\n  <div class=\"weui-dialog\" v-if=\"dataCode === -1\">\r\n    <div class=\"weui-dialog__hd\">\r\n      <strong class=\"weui-dialog__title\" id=\"js_title1\">返利信息</strong>\r\n    </div>\r\n    <div class=\"weui-dialog__bd\">这个商品没有返利或输入有误 重新试试看吧!</div>\r\n\r\n    <div class=\"weui-dialog__ft\">\r\n      <a\r\n        role=\"button\"\r\n        class=\"weui-dialog__btn weui-dialog__btn_primary\"\r\n        @click=\"dataCode = 0\"\r\n        >我知道了</a\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from \"@/components/SearchBar\";\r\nimport { reactive, ref } from \"@vue/reactivity\";\r\nimport axios from \"axios\";\r\nimport useClipboard from \"vue-clipboard3\";\r\n\r\nexport default {\r\n  components: {\r\n    SearchBar,\r\n  },\r\n\r\n  setup() {\r\n    let commodityInfo = reactive({});\r\n    let dataCode = ref(\"\");\r\n    let dialogView = ref(false);\r\n\r\n    //万能转高佣API 获取商品信息\r\n    let getCommision = async (content) => {\r\n      let getData = await axios.post(\"api/tbk/wn_convert\", {\r\n        apikey: \"ycq9hxGGYdUG7GTdkHBhQQ77UsiZFW2h\",\r\n        content: content,\r\n        logo: true,\r\n        itemInfo: true,\r\n        tpwd: true,\r\n      });\r\n      //获取API返回的信息\r\n      dataCode.value = getData.data.code;\r\n\r\n      if (dataCode.value === 200) {\r\n        commodityInfo.values = { ...getData.data.data };\r\n\r\n        //复制淘口令到粘贴板\r\n        const { toClipboard } = useClipboard();\r\n        toClipboard(commodityInfo.values.long_coupon_tpwd);\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      //搜索之后 显示dialog\r\n      dialogView.value = true;\r\n    };\r\n\r\n    return {\r\n      getCommision,\r\n      commodityInfo,\r\n      dialogView,\r\n      dataCode,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""}]}