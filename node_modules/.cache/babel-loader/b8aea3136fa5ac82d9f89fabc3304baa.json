{"remainingRequest":"/Volumes/系统/F/vueProject/learnvue/node_modules/babel-loader/lib/index.js!/Volumes/系统/F/vueProject/learnvue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Volumes/系统/F/vueProject/learnvue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Volumes/系统/F/vueProject/learnvue/src/components/SearchBar.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/系统/F/vueProject/learnvue/src/components/SearchBar.vue","mtime":1637511745000},{"path":"/Volumes/系统/F/vueProject/learnvue/babel.config.js","mtime":1637408306000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/cache-loader/dist/cjs.js","mtime":1637373665000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/babel-loader/lib/index.js","mtime":1637373673000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/cache-loader/dist/cjs.js","mtime":1637373665000},{"path":"/Volumes/系统/F/vueProject/learnvue/node_modules/vue-loader-v16/dist/index.js","mtime":1637373672000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvXHU3Q0ZCXHU3RURGL0YvdnVlUHJvamVjdC9sZWFybnZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIHRvUmVmcyB9IGZyb20gIkB2dWUvcmVhY3Rpdml0eSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHdhdGNoIH0gZnJvbSAiQHZ1ZS9ydW50aW1lLWNvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHJoZDogU3RyaW5nCiAgfSwKICBlbWl0czogWydzZWFyY2gnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcCwgY29udGV4dCkgewogICAgLy/ojrflj5Ygc3RvcmUgKHZ1ZXgpCiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOyAvL+aYr+WQpuiBmueEpgoKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgaXNGb2N1czogZmFsc2UsCiAgICAgIGlucHV0RWxlbWVudDogbnVsbCwKICAgICAgc2VhcmNoVmFsdWU6ICIiCiAgICB9KTsgLy/liIfmjaLmkJzntKLmoYbmmK/lkKbpgInkuK3nirbmgIEKCiAgICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICBzdGF0ZS5pc0ZvY3VzID0gIXN0YXRlLmlzRm9jdXM7CiAgICAgIHN0YXRlLmlucHV0RWxlbWVudC5mb2N1cygpOwogICAgfTsgLy/muIXpmaTmkJzntKLmlofmnKwKCgogICAgdmFyIGNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHN0YXRlLnNlYXJjaFZhbHVlID0gJyc7CiAgICB9OyAvL+aQnOe0oiDmj5DkuqTmlbDmja7nu5kg5pCc57Si6aG16Z2iIOiuqeWFtuWxleekugoKCiAgICB2YXIgc2VhcmNoID0gZnVuY3Rpb24gc2VhcmNoKHNlYXJjaFZhbHVlKSB7CiAgICAgIGNvbnRleHQuZW1pdCgnc2VhcmNoJywgc2VhcmNoVmFsdWUpOwogICAgfTsgLy/lsIbmkJzntKLor40g5Lyg57uZIHN0YXRlCgoKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlYXJjaFZhbHVlOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBzdG9yZS5jb21taXQoJ3NldFNlYXJjaFZhbHVlJywgc3RhdGUuc2VhcmNoVmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoc3RhdGUpKSwge30sIHsKICAgICAgdG9nZ2xlOiB0b2dnbGUsCiAgICAgIGNsZWFyOiBjbGVhciwKICAgICAgc2VhcmNoOiBzZWFyY2gKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["/Volumes/系统/F/vueProject/learnvue/src/components/SearchBar.vue"],"names":[],"mappings":";AAwCA,SAAS,QAAT,EAAmB,GAAnB,EAAwB,MAAxB,QAAsC,iBAAtC;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,KAAT,QAAsB,mBAAtB;AACA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,GAAG,EAAE;AADA,GADM;AAIb,EAAA,KAAK,EAAE,CAAC,QAAD,CAJM;AAMb,EAAA,KANa,iBAMP,IANO,EAMD,OANC,EAMQ;AACnB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB,CAFmB,CAInB;;AACA,QAAI,KAAI,GAAI,QAAQ,CAAC;AACnB,MAAA,OAAO,EAAE,KADU;AAEnB,MAAA,YAAY,EAAE,IAFK;AAGnB,MAAA,WAAW,EAAE;AAHM,KAAD,CAApB,CALmB,CAUnB;;AACA,QAAI,MAAK,GAAI,SAAT,MAAS,GAAM;AACjB,MAAA,KAAK,CAAC,OAAN,GAAgB,CAAC,KAAK,CAAC,OAAvB;AACA,MAAA,KAAK,CAAC,YAAN,CAAmB,KAAnB;AACD,KAHD,CAXmB,CAenB;;;AACA,QAAI,KAAI,GAAI,SAAR,KAAQ,GAAM;AACd,MAAA,KAAK,CAAC,WAAN,GAAoB,EAApB;AACJ,KAFA,CAhBmB,CAoBnB;;;AACA,QAAI,MAAK,GAAI,SAAT,MAAS,CAAC,WAAD,EAAiB;AAC3B,MAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,WAAvB;AACH,KAFA,CArBmB,CA0BnB;;;AACA,IAAA,KAAK,CACH,YAAM;AACJ,aAAO,KAAK,CAAC,WAAb;AACD,KAHE,EAIH,YAAM;AACF,MAAA,KAAK,CAAC,MAAN,CAAa,gBAAb,EAA+B,KAAK,CAAC,WAArC;AACJ,KANG,CAAL;AASA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,MAAM,EAAN,MAFF;AAGE,MAAA,KAAK,EAAL,KAHF;AAIE,MAAA,MAAK,EAAL;AAJF;AAMD;AAhDY,CAAf","sourcesContent":["<template>\n  <div\n    :class=\"[\n      'weui-search-bar',\n      { 'weui-search-bar_focusing': isFocus },\n      (id = 'earchBar'),\n    ]\"\n  >\n    <form class=\"weui-search-bar__form\">\n      <div class=\"weui-search-bar__box\">\n        <i class=\"weui-icon-search\"></i>\n        <input\n          type=\"search\"\n          ref=\"inputElement\"\n          v-model=\"searchValue\"\n          class=\"weui-search-bar__input\"\n          id=\"searchInput\"\n          :placeholder=\"rhd\"\n          required\n          v-on:keydown.enter.prevent\n          @keydown.enter=\"search(searchValue)\"\n        />\n        <a href=\"javascript:\" class=\"weui-icon-clear\" id=\"searchClear\" @click=\"clear\"></a>\n      </div>\n      <label @click=\"toggle\" class=\"weui-search-bar__label\" id=\"searchText\">\n        <i class=\"weui-icon-search\"></i>\n        <span>{{rhd}}</span>\n      </label>\n    </form>\n    <a\n      @click=\"toggle(), clear()\"\n      href=\"javascript:\"\n      class=\"weui-search-bar__cancel-btn\"\n      id=\"searchCancel\"\n      >取消</a\n    >\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, toRefs } from \"@vue/reactivity\";\nimport { useStore } from \"vuex\";\nimport { watch } from \"@vue/runtime-core\";\nexport default {\n  props: {\n    rhd: String\n  },\n  emits: ['search'],\n\n  setup(prop, context) {\n    //获取 store (vuex)\n    const store = useStore();\n\n    //是否聚焦\n    let state = reactive({\n      isFocus: false,\n      inputElement: null,\n      searchValue: \"\",\n    });\n    //切换搜索框是否选中状态\n    let toggle = () => {\n      state.isFocus = !state.isFocus;\n      state.inputElement.focus();\n    };\n    //清除搜索文本\n    let clear = () => {\n        state.searchValue = ''\n    }\n\n    //搜索 提交数据给 搜索页面 让其展示\n    let search = (searchValue) => {\n       context.emit('search', searchValue)\n    }\n\n    \n    //将搜索词 传给 state\n    watch(\n      () => {\n        return state.searchValue;\n      },\n      () => {\n          store.commit('setSearchValue', state.searchValue)\n      }\n    );\n\n    return {\n      ...toRefs(state),\n      toggle,\n      clear,\n      search\n    };\n  },\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":""}]}